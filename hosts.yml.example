.swissupdemo: &swissupdemo
  host: swissupdemo.com
  user: ec2-user
  port: 22
  identityFile: ~/.ssh/key.pem
  # forwardAgent: true
  # multiplexing: true
  deploy_path: /var/www/html

.mysql: &mysql
  mysql_host: 127.0.0.1
  mysql_user: user
  mysql_pass: pass

.magento2-settings: &magento2-settings
  repository: git@github.com:magento/magento2.git
  shared_dirs:
    - var/log
    - var/backups
    - pub/media
  shared_files:
    - app/etc/config.php
    - app/etc/env.php
    - var/.maintenance.ip
  writable_dirs:
    - var
    - pub/static
    - pub/media
  clear_paths:
    - var/page_cache/*
    - var/cache/*
    - var/generation/*

.magento1-settings: &magento1-settings
  repository: git@github.com:OpenMage/magento-mirror.git
  shared_dirs:
    - var
    - media
  shared_files:
    - app/etc/local.xml
  writable_dirs:
    - var
    - media

.magento2-istall-settings: &magento2-istall-settings
  admin-firstname: John
  admin-lastname: Doe
  admin-email: john.doe@gmail.com
  admin-user: admin
  backend-frontname: admin
  language: en_US
  currency: USD
  timezone: America/Chicago
  use-rewrites: 1

swissupdemo.com:
  <<: *swissupdemo
  <<: *mysql
  <<: *magento2-settings
  <<: *magento2-istall-settings
  stage: production
  deploy_path: /var/www/html
  base_url: http://{{hostname}}/releases/{{release}}

swissupdemo.com/test:
  <<: *swissupdemo
  <<: *mysql
  <<: *magento2-settings
  <<: *magento2-istall-settings
  mysql_db: test
  deploy_path: /var/www/html/test
  stage: staging
  base_url: http://{{hostname}}/current
  add_sample_data: true